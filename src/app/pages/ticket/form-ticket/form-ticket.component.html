<div class="content">
  <form class="client-form" [formGroup]="ticketForm" nz-form>
    <div class="row">
      <div class="col-12">
        <div class="form-title">
          <h2>{{ pageTitle }}</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-9">
        <nz-form-item>
          <nz-form-label nzFor="client">Cliente</nz-form-label>
          <nz-form-control
            nzCompact
            nzHasFeedback
            [nzErrorTip]="'Campo obrigatório'"
          >
            <nz-select
              nzShowSearch
              nzAllowClear
              nzPlaceHolder="Selecione um cliente"
              nzSize="large"
              formControlName="client"
            >
              <nz-option
                [nzLabel]="client.fullname + ' - ' + client.document"
                [nzValue]="client.id"
                *ngFor="let client of clients"
                required
              ></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col-3">
        <nz-form-item>
          <nz-form-label nzFor="user">Tipo de Atendimento</nz-form-label>
          <nz-form-control
            nzCompact
            nzHasFeedback
            [nzErrorTip]="'Campo obrigatório'"
          >
            <nz-select
              nzShowSearch
              nzAllowClear
              nzPlaceHolder="Selecione"
              nzSize="large"
              id="user"
              formControlName="typeService"
              required
            >
              <nz-option [nzValue]="1" nzLabel="Interno"></nz-option>
              <nz-option [nzValue]="2" nzLabel="Externo"></nz-option>
              <nz-option [nzValue]="3" nzLabel="Remoto"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <nz-form-item>
          <nz-form-label nzFor="subject">Assunto</nz-form-label>
          <nz-form-control nzHasFeedback [nzErrorTip]="'Campo obrigatório'">
            <input
              nz-input
              formControlName="subject"
              id="fullname"
              placeholder="Digite o assunto do chamado"
              minlength="5"
              maxlength="255"
              required
              nzSize="large"
              required
            />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col-3">
        <nz-form-item>
          <nz-form-label nzFor="sector">Setor</nz-form-label>
          <nz-form-control
            nzCompact
            nzHasFeedback
            [nzErrorTip]="'Campo obrigatório'"
          >
            <nz-select
              nzShowSearch
              nzAllowClear
              nzPlaceHolder="Selecione um setor"
              nzSize="large"
              id="sector"
              formControlName="sector"
              required
            >
              <nz-option
                [nzLabel]="sector.description"
                [nzValue]="sector.id"
                *ngFor="let sector of sectors"
              ></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col-3">
        <nz-form-item>
          <nz-form-label nzFor="user">Reponsável</nz-form-label>
          <nz-form-control
            nzCompact
            nzHasFeedback
            [nzErrorTip]="'Campo obrigatório'"
          >
            <nz-select
              nzShowSearch
              nzAllowClear
              nzPlaceHolder="Selecione um responsável"
              nzSize="large"
              id="user"
              formControlName="user"
              required
            >
              <nz-option
                [nzLabel]="user.fullname"
                [nzValue]="user.id"
                *ngFor="let user of users"
              ></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <nz-form-item>
          <nz-form-label nzFor="description">Descrição</nz-form-label>
            <textarea
              rows="6"
              nz-input
              id="description"
              formControlName="description"
              [nzAutosize]="{ minRows: 2, maxRows: 6 }"
              required
            ></textarea>
        </nz-form-item>
      </div>
    </div>
    <div class="action-form">
      <button
        nz-button
        nzType="default"
        nzSize="large"
        (click)="onBackToLocation()"
      >
        Voltar
      </button>
      <button
        nz-button
        nzType="primary"
        nzSize="large"
        (click)="onSubmit()"
        [disabled]="!ticketForm.valid"
      >
        Salvar
      </button>
    </div>
  </form>
</div>
